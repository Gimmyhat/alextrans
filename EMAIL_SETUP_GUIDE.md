# Настройка отправки форм по электронной почте

## Общая информация

В проекте настроена отправка данных из форм на электронную почту компании с использованием сервиса [EmailJS](https://www.emailjs.com/). Этот сервис позволяет отправлять электронные письма непосредственно из JavaScript-кода во фронтенд-приложении без необходимости создания собственного бэкенда.

На сайте используются 3 формы:
1. Форма обратного звонка (CallbackModal)
2. Форма контактов (ContactForm)
3. Форма калькулятора стоимости (CalculatorPage)

## Шаги по настройке EmailJS

1. **Зарегистрируйтесь на сайте EmailJS**
   - Перейдите на [https://www.emailjs.com/](https://www.emailjs.com/) и создайте аккаунт
   - Бесплатный план позволяет отправлять до 200 писем в месяц

2. **Подключите Email Service**
   - В панели управления EmailJS, в разделе "Email Services", добавьте новый сервис
   - Рекомендуется выбрать Gmail или другой провайдер, который вы используете
   - Следуйте инструкциям по подключению выбранного сервиса к EmailJS

3. **Создайте шаблоны писем**
   - В разделе "Email Templates" создайте три шаблона для разных форм:
     - `template_callback` - для формы обратного звонка
     - `template_calculator` - для формы расчета стоимости
     - `template_contact` - для контактной формы
   
   - Пример шаблона для обратного звонка:
     ```
     Тема: Запрос на обратный звонок на сайте alextrans
     
     Поступил запрос на обратный звонок:
     
     Номер телефона: {{phone}}
     Дата и время запроса: {{date}}
     ```

   - Пример шаблона для формы расчета стоимости:
     ```
     Тема: Заявка на расчет стоимости перевозки
     
     Данные заявки:
     
     Откуда: {{from}}
     Куда: {{to}}
     Компания: {{company}}
     Имя клиента: {{name}}
     Телефон: {{phone}}
     Email: {{email}}
     Услуга: {{service}}
     Дата и время запроса: {{date}}
     ```

   - Пример шаблона для контактной формы:
     ```
     Тема: Сообщение с контактной формы сайта alextrans
     
     Детали сообщения:
     
     Имя: {{name}}
     Телефон: {{phone}}
     Email: {{email}}
     Сообщение: {{message}}
     Дата и время: {{date}}
     ```

4. **Обновите конфигурацию в проекте**
   - Откройте файл `src/utils/emailService.ts`
   - Обновите следующие константы:
     ```typescript
     const SERVICE_ID = 'service_your_service_id'; // ID вашего сервиса из EmailJS
     const TEMPLATE_ID_CALLBACK = 'template_callback'; // ID шаблона для обратного звонка
     const TEMPLATE_ID_CALCULATOR = 'template_calculator'; // ID шаблона для калькулятора
     const TEMPLATE_ID_CONTACT = 'template_contact'; // ID шаблона для контактной формы
     const USER_ID = 'your_user_id'; // Ваш публичный ключ из EmailJS
     ```
   - ID сервиса и шаблонов можно найти в панели управления EmailJS
   - Публичный ключ (USER_ID) находится в разделе "Account" > "API Keys"

5. **Тестирование**
   - После настройки всех параметров, протестируйте каждую форму на сайте
   - Проверьте, что письма приходят на указанный в настройках EmailJS адрес
   - Убедитесь, что все данные из форм корректно передаются в шаблоны

## Дополнительные настройки

### Ограничение спама
Для уменьшения риска получения спама, рекомендуется:
- Добавить Google reCAPTCHA в формы
- Установить лимиты на количество отправлений с одного IP-адреса

### Изменение получателя писем
Вы можете изменить адрес, на который приходят письма в настройках Email Service в панели управления EmailJS.

### Проблемы с отправкой
Если письма не приходят:
1. Проверьте консоль браузера на наличие ошибок
2. Убедитесь, что все ID и ключи в `emailService.ts` указаны правильно
3. Проверьте папку "Спам" в почтовом ящике
4. Проверьте лимиты отправки в вашем плане EmailJS

## Контактная информация
Если у вас возникнут проблемы с настройкой отправки форм, обратитесь к разработчику проекта. 